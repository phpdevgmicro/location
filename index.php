<!DOCTYPE html>
<html lang="en">

<head>
   <script async src="https://www.googletagmanager.com/gtag/js?id=G-PV6VBESTRG"></script>
   <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());

      gtag('config', 'G-PV6VBESTRG');
   </script>
   <meta name="ahrefs-site-verification" content="ff80189ce4440095e8e7382669914cf010bdeb0d9cb22b13ae0691afa6056dfd">
   <meta name="google-site-verification" content="bwLg-Vcjli-iqcGDM0HnZhEUK2wMF0KmKc24CfiSHiE" />
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Locations | Specialty Care Clinics</title>
   <meta property="og:locale" content="en_US">
   <meta name="og:site_name" content="Specialty Care Clinics" />
   <meta property="og:type" content="Website">
   <link rel="canonical" href="https://specialtycareclinics.com/locations/" />
   <link rel="icon" href="../assets/images/favicon.png" type="image/png" sizes="16x16">
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
   <link rel="stylesheet" href="/assets/css/font.css">
   <link rel="stylesheet" href="../assets/css/site.css">
   <link rel="stylesheet" type="text/css" href="../assets/css/custom.css">
   <style>
      body {
         background-color: white !important;
      }

      .loc-page-wrapper {
         padding: 40px 20px;
         display: flex;
         flex-direction: column;
         align-items: center;
         text-align: center;
      }

      .loc-page-header {
         font-size: 2.5rem;
         font-weight: bold;
         margin-bottom: 20px;
         color: #2c3e50;
         margin-top: 3rem;
      }

      .loc-page-description {
         font-size: 1.2rem;
         max-width: 700px;
         color: #555;
         line-height: 1.6;
      }

      .i4ewOd-pzNkMb-haAclf {
         display: none !important;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
         .loc-page-header {
            font-size: 2rem;
         }

         .loc-page-header {
            margin-top: 0;
            margin-bottom: 0;
         }

         .loc-page-description {
            font-size: 1rem;
            padding: 0 10px;
         }
      }

      @media (max-width: 480px) {
         .loc-page-header {
            font-size: 1.6rem;
         }

         .loc-page-description {
            font-size: 0.95rem;
         }
      }
   </style>

   <style>
      .loc-map-sec-searchbar {
         background: #f2f2f2;
         padding: 2rem 1rem 3rem 1rem;
      }

      .loc-map-sec-searchbar-wrapper {
         display: flex;
         flex-wrap: wrap;
         gap: 1rem;
         max-width: 1200px;
         margin: auto;
      }

      .loc-map-sec-group {
         flex: 1 1 100%;
      }

      .loc-map-sec-label {
         font-size: 0.75rem;
         margin-bottom: 0.25rem;
         color: #555;
         display: block;
         text-transform: uppercase;
         font-weight: bold;
      }

      .loc-map-sec-input,
      .loc-map-sec-select {
         width: 95% !important;
         padding: 0.4rem 0.75rem !important;
         font-size: 1rem !important;
         border: 1px solid #ccc !important;
         border-radius: 4px !important;
         background-color: #fff !important;
      }

      .loc-map-sec-suggestions {
         width: 95%;
      }

      .loc-map-sec-suggestions {
         background: #fff;
         border-top: none;
         max-height: 200px;
         overflow-y: auto;
         position: absolute;
         z-index: 1000;
      }

      .loc-map-sec-suggestions div {
         padding: 0.5rem;
         cursor: pointer;
      }

      .loc-map-sec-suggestions div:hover {
         background-color: #f0f0f0;
      }

      .address-suggestions {
         position: absolute;
         top: 100%;
         left: 0;
         right: 0;
         background: white;
         border: 2px solid #e1e5e9;
         border-top: none;
         border-radius: 0 0 8px 8px;
         max-height: 200px;
         overflow-y: auto;
         z-index: 1000;
         display: none;
      }


      .loc-map-sec-radio-group {
         display: flex;
         gap: 0.5rem;
         flex-wrap: wrap;
      }

      .loc-map-sec-radio-button {
         padding: 0.4rem 1rem;
         border: 1px solid #ccc;
         border-radius: 4px;
         cursor: pointer;
         background-color: white;
         font-size: 0.9rem;
         letter-spacing: 0.5px;
      }

      .loc-map-sec-main {
         display: flex;
         flex-wrap: wrap;
         padding: 1rem;
         gap: 1rem;
         background-color: #f2f2f2;
         align-items: stretch;
      }

      .loc-map-sec-left,
      .loc-map-sec-right {
         flex: 1 1 100%;
      }

      .map-panel {
         background: white;
         border-radius: 12px;
         overflow: hidden;
         box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
         height: 44rem;
      }

      .loc-map-sec-clinic-card {
         background: white;
         border-radius: 8px;
         box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
         padding: 20px;
         margin-bottom: 16px;
         display: block;
         min-height: 150px;
         border: 1px solid #e0e0e0;
         transition: box-shadow 0.3s ease, transform 0.2s ease;
         cursor: pointer;
      }

      .loc-map-sec-clinic-card:hover {
         box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
         transform: translateY(-2px);
      }

      .loc-map-sec-header {
         background-color: #0c3666;
         width: 100%;
         padding: 1rem;
         color: white;
         font-size: 1.1rem;
         font-weight: 500;
      }

      .loc-map-sec-clinic-card p {
         text-align: left;
         margin-bottom: 0.7rem;
      }

      .loc-map-sec-clinic-card h3,
      .loc-map-sec-clinic-card a {
         color: #0c3666;
         margin-bottom: 1rem;
         font-weight: 600;
      }

      .loc-map-sec-clinic-card h3 {
         margin-top: 0;
      }

      iframe {
         width: 100%;
         height: 100%;
         border: none;
      }

      .legend-bar {
         display: flex;
         flex-wrap: wrap;
         gap: 1.5rem;
         align-items: center;
         justify-content: center;
         padding: 1.5rem 2rem;
         background-color: white;
         border-bottom: 1px solid #e0e0e0;
      }

      .legend-item {
         display: flex;
         align-items: center;
         font-size: 0.9rem;
         color: #333;
      }

      .legend-icon {
         width: 24px;
         height: 24px;
         margin-right: 8px;
         object-fit: contain;
      }

      .loc-map-sec-left {
         height: 44rem;
         overflow-y: auto;
         scroll-behavior: smooth;
      }

      .loc-map-sec-radio-button.active {
         background-color: #0c3666;
         color: white;
      }

      .loc-map-sec-left::-webkit-scrollbar {
         width: 8px;
      }

      .loc-map-sec-left::-webkit-scrollbar-track {
         background: #f1f1f1;
         border-radius: 10px;
      }

      .loc-map-sec-left::-webkit-scrollbar-thumb {
         background: #888;
         border-radius: 10px;
      }

      .loc-map-sec-left::-webkit-scrollbar-thumb:hover {
         background: #555;
      }

      .loc-map-sec-left {
         scrollbar-width: thin;
         scrollbar-color: #888 #f1f1f1;
      }

      /* Hover effects for links */
      .phone-link:hover {
         text-decoration: underline;
         text-decoration-color: #16a34a;
         text-decoration-thickness: 2px;
         text-underline-offset: 3px;
      }

      .map-link:hover {
         text-decoration: underline;
         text-decoration-color: #2563eb;
         text-decoration-thickness: 2px;
         text-underline-offset: 3px;
      }

      .phone-link {
         color: #16a34a;
         text-decoration: none;
         cursor: pointer;
      }

      .map-link {
         color: #2563eb;
         text-decoration: none;
         cursor: pointer;
         display: inline-flex;
         align-items: center;
         gap: 6px;
         font-weight: 400;
         white-space: nowrap;
      }

      /* Marker bounce animation */
      @keyframes markerBounce {
         0%, 100% { transform: translateY(0); }
         25% { transform: translateY(-15px); }
         50% { transform: translateY(0); }
         75% { transform: translateY(-8px); }
      }

      /* Responsive font scaling */
      @media (max-width: 600px) {
         .legend-item {
            font-size: 0.8rem;
         }
      }

      @media (max-width: 768px) {
         .loc-map-sec-main {
            padding: 1rem;
         }

      .loc-map-sec-left {
         margin-bottom: 20px;
      }

         .loc-map-sec-right {
            height: 500px;
         }

         .loc-map-sec-suggestions {
            width: 100%;
         }

         .loc-map-sec-input,
         .loc-map-sec-select {
            width: 100% !important;
            height: 37px;
         }

         .legend-bar {
            justify-content: flex-start;
            padding: 1rem 1rem;
         }
      }


      @media (min-width: 768px) {

         .loc-map-sec-main {
            flex-wrap: nowrap;
         }

         .loc-map-sec-left {
            flex: 1 1 50%;
            max-width: 50%;
         }

         .loc-map-sec-right {
            flex: 1 1 50%;
            max-width: 50%;
         }


         .loc-map-sec-group {
            flex: 1 1 calc(33.333% - 1rem);
         }
      }
   </style>
</head>

<body>
      <?php include "../header-main.php"; ?>

   <section class="loc-page-wrapper">
      <h1 class="loc-page-header open-sans-regular">Locations</h1>
      <p class="loc-page-description helvetica-regular">
         Select from the options below to locate a hospital, urgent care, doctor’s office, med spa, or other facility
         within the Specialty Care Clinics system.
      </p>
   </section>

   <div class="container" style="max-width: 1400px; margin: 0 auto 50px auto;">
   <div class="loc-map-sec-searchbar">
      <div class="loc-map-sec-searchbar-wrapper">
         <div class="loc-map-sec-group">
            <label for="locInput" class="loc-map-sec-label">Show locations near...</label>
            <div style="position: relative;">
               <input type="text" id="addressInput" class="loc-map-sec-input"
                  placeholder="Enter your address or zip code" autocomplete="off">
               <div id="addressSuggestions" class="address-suggestions loc-map-sec-suggestions"></div>
            </div>
         </div>
         <div class="loc-map-sec-group">
            <label for="serviceFilter" class="loc-map-sec-label">LOCATION TYPE</label>
            <select id="serviceFilter" class="loc-map-sec-select">
               <option value="">All Location Types</option>
               <option value="primary_care">Primary Care Office (22)</option>
               <option value="orthopedic">Orthopedic (10)</option>
               <option value="pain_management">Pain Management (6)</option>
               <option value="general_surgery">General Surgery (3)</option>
               <option value="plastic_surgery">Plastic Surgery (2)</option>
               <option value="podiatry">Podiatry (2)</option>
               <option value="vascular_surgery">Vascular Surgery (2)</option>
               <option value="cardiology">Cardiology (2)</option>
               <option value="oncology">Oncology (2)</option>
               <option value="chiropractic">Chiropractic (3)</option>
            </select>
         </div>
         <div class="loc-map-sec-group">
            <label class="loc-map-sec-label">Search Within</label>
            <div class="loc-map-sec-radio-group">
               <div class="loc-map-sec-radio-button filter-button" data-distance="5">5mi</div>
               <div class="loc-map-sec-radio-button filter-button" data-distance="10">10mi</div>
               <div class="loc-map-sec-radio-button filter-button" data-distance="20">20mi</div>
               <div class="loc-map-sec-radio-button filter-button" data-distance="50">50mi</div>
            </div>
         </div>
      </div>
   </div>

   <div class="loc-map-sec-header" id="locationHeader">
      Showing Locations Near:
   </div>

   <div class="legend-bar">
      <div class="legend-item">
         <img src="attached_assets/5_1760719237353.png" alt="" class="legend-icon">
         <span>Urgent Care</span>
      </div>
      <div class="legend-item">
         <img src="attached_assets/6_1760719237353.png" alt="" class="legend-icon">
         <span>Hospital</span>
      </div>
      <div class="legend-item">
         <img src="attached_assets/7_1760719237354.png" alt="" class="legend-icon">
         <span>Specialty Care</span>
      </div>
      <div class="legend-item">
         <img src="attached_assets/8_1760719237355.png" alt="" class="legend-icon">
         <span>Primary Care</span>
      </div>
      <div class="legend-item">
         <img src="attached_assets/9_1760719237356.png" alt="" class="legend-icon">
         <span>Infusions</span>
      </div>
      <div class="legend-item">
         <img src="attached_assets/other_locations_icon.png" alt="" class="legend-icon">
         <span>All Other Locations</span>
      </div>
   </div>


   <div class="loc-map-sec-main">
      <div class="loc-map-sec-left">
         <div id="clinicResults">Loading locations...</div>
      </div>
      <div class="loc-map-sec-right map-panel">
         <div id="map" style="width: 100%; height: 100%;"></div>
      </div>
   </div>
   </div><!-- End container -->

   <script>
      // Configuration and Data
      const CONFIG = {
         DEFAULT_DISTANCE: 400,
         MAP_ZOOM: 13,
         ICON_PATHS: {
            primary_care: 'attached_assets/8_1760719237355.png',
            orthopedic: 'attached_assets/6_1760719237353.png',
            pain_management: 'attached_assets/7_1760719237354.png',
            general_surgery: 'attached_assets/7_1760719237354.png',
            plastic_surgery: 'attached_assets/8_1760719237355.png',
            podiatry: 'attached_assets/9_1760719237356.png',
            vascular_surgery: 'attached_assets/9_1760719237356.png',
            cardiology: 'attached_assets/5_1760719237353.png',
            oncology: 'attached_assets/5_1760719237353.png',
            chiropractic: 'attached_assets/7_1760719237354.png'
         },
         MARKER_COLORS: {
            primary_care: '#28a745',
            orthopedic: '#007bff',
            pain_management: '#dc3545',
            general_surgery: '#6f42c1',
            plastic_surgery: '#ff69b4',
            podiatry: '#17a2b8',
            vascular_surgery: '#17a2b8',
            cardiology: '#dc3545',
            oncology: '#fd7e14',
            chiropractic: '#17a2b8',
            default: '#6c757d'
         }
      };

      const LOCATION_DATA = [
         {
            "type": "Primary Care Office",
            "serviceKey": "primary_care",
            "count": 22,
            "description": "Includes Family Medicine, Internal Medicine, Preventive, and Nurse Practitioners",
            "locations": [
               {
               "name": "Casa View Chiropractic Clinic",
               "address": "10622 Shiloh Rd, Dallas, TX 75228",
               "coordinates": {"lat": 32.8234, "lng": -96.6714},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["primary_care", "specialty_care", "all_other"]
               },
               {
               "name": "American Infusion Care - Specialty Infusions",
               "address": "12930 Dairy Ashford Rd Ste 702A, Sugarland, TX 77478",
               "coordinates": {"lat": 29.6294, "lng": -95.6508},
               "phone": "832-365-3420",
               "fax": "214-888-4450",
               "categories": ["infusions"]
               },
               {
               "name": "Specialty Care Clinics - Midland",
               "address": "1304 W Texas Ave, Midland, TX 79701",
               "coordinates": {"lat": 31.9970, "lng": -102.1100},
               "phone": "432-599-9580",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics - Little Elm",
               "address": "1395 E Eldorado Pkwy Suite 400, Little Elm, TX 75068",
               "coordinates": {"lat": 33.1625, "lng": -96.9375},
               "phone": "469-200-5974",
               "fax": "214-888-4450",
               "categories": ["primary_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics - Farmers Branch",
               "address": "13988 Diplomat Dr, Suite 100, Farmers Branch, TX 75234",
               "coordinates": {"lat": 32.9267, "lng": -96.8906},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["primary_care", "specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics - West",
               "address": "1401 Jane Lane, West, TX 76691",
               "coordinates": {"lat": 31.8031, "lng": -97.0911},
               "phone": "254-580-8811",
               "fax": "254-296-8614",
               "categories": ["primary_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics - Bedford",
               "address": "1909 Central Dr Ste 202, Bedford, TX 76021",
               "coordinates": {"lat": 32.8440, "lng": -97.1431},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["primary_care", "specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics MedSurg & Compcare",
               "address": "220 E 3rd Ave, Corsicana, TX 75110",
               "coordinates": {"lat": 32.0954, "lng": -96.4664},
               "phone": "903-874-5866",
               "fax": "903-874-5083",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics",
               "address": "2300 W Michigan Ave Suite 7, Midland, TX 79701",
               "coordinates": {"lat": 31.9973, "lng": -102.0979},
               "phone": "432-218-7499",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics",
               "address": "2304 W Michigan Ave, Midland, TX 79701",
               "coordinates": {"lat": 31.9974, "lng": -102.0983},
               "phone": "432-218-7499",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics",
               "address": "2351 W Northwest Hwy Suite 3105, Dallas, TX 75220",
               "coordinates": {"lat": 32.8640, "lng": -96.8890},
               "phone": "",
               "fax": "",
               "categories": ["all_other"]
               },
               {
               "name": "Specialty Care Clinics - Plano",
               "address": "2380 E Park Blvd St 300, Plano, TX 75074",
               "coordinates": {"lat": 33.0298, "lng": -96.6839},
               "phone": "469-581-0081",
               "fax": "214-888-4450",
               "categories": ["primary_care", "specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics - Mesquite",
               "address": "2540 N Galloway Ave Suite 103, Mesquite, TX 75150",
               "coordinates": {"lat": 32.7989, "lng": -96.5853},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["primary_care", "specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics",
               "address": "2700 W Pleasant Run Rd Suite 260, Lancaster, TX 75146",
               "coordinates": {"lat": 32.5920, "lng": -96.7889},
               "phone": "254-324-7231",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics",
               "address": "2700 W Pleasant Run Rd Suite 320, Lancaster, TX 75146",
               "coordinates": {"lat": 32.5920, "lng": -96.7889},
               "phone": "",
               "fax": "",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics",
               "address": "2700 W Pleasant Run Rd Suite 340, Lancaster, TX 75146",
               "coordinates": {"lat": 32.5920, "lng": -96.7889},
               "phone": "",
               "fax": "",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "American Infusion Care - Specialty Infusions",
               "address": "3003 Fannin St, Houston, TX 77004",
               "coordinates": {"lat": 29.7419, "lng": -95.3698},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["infusions"]
               },
               {
               "name": "Specialty Care Clinics",
               "address": "4211 Cedar Springs Rd Suite 200, Dallas, TX 75219",
               "coordinates": {"lat": 32.8089, "lng": -96.8067},
               "phone": "",
               "fax": "",
               "categories": ["primary_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinic - Odessa",
               "address": "500 E 4th St, Odessa, TX 79761",
               "coordinates": {"lat": 31.8457, "lng": -102.3676},
               "phone": "432-322-8674",
               "fax": "432-315-3465",
               "categories": ["primary_care", "all_other"]
               },
               {
               "name": "Performance Medicine & Sports Therapy",
               "address": "6101 Windhaven Pkwy Ste 145, Plano, TX 75093",
               "coordinates": {"lat": 33.0789, "lng": -96.8339},
               "phone": "469-833-2927",
               "fax": "214-888-4450",
               "categories": ["primary_care", "specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics",
               "address": "802 W Lampasas Street, Ennis, TX 75119",
               "coordinates": {"lat": 32.3293, "lng": -96.6264},
               "phone": "",
               "fax": "",
               "categories": ["all_other"]
               },
               {
               "name": "Mi Bienestar Clínica Hispana Familiar - Houston",
               "address": "8511 N Houston Rosslyn Rd Suite 220, Houston, TX 77088",
               "coordinates": {"lat": 29.9450, "lng": -95.4350},
               "phone": "281-741-3204",
               "fax": "281-741-3154",
               "categories": ["primary_care", "all_other"]
               }
            ]
         },
         {
            "type": "Orthopedic",
            "serviceKey": "orthopedic",
            "count": 10,
            "description": "Includes Ortho Surgery & Spine services across multiple locations",
            "locations": [
               {
               "name": "Specialty Care Clinics",
               "address": "1029 Long Prairie Rd Ste D, Flower Mound, TX 75022",
               "coordinates": {"lat": 33.0145, "lng": -97.0969},
               "phone": "",
               "fax": "",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics - Hillsboro",
               "address": "117 Jane Lane, Hillsboro, TX 76645",
               "coordinates": {"lat": 32.0107, "lng": -97.1289},
               "phone": "254-582-8007",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics - Waxahachie",
               "address": "1324 Brown St #100, Waxahachie, TX 75165",
               "coordinates": {"lat": 32.3865, "lng": -96.8478},
               "phone": "972-937-8900",
               "fax": "972-937-7936",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics - Farmers Branch",
               "address": "13988 Diplomat Dr, Suite 100, Farmers Branch, TX 75234",
               "coordinates": {"lat": 32.9267, "lng": -96.8906},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "OrthoXpress",
               "address": "2304 W Michigan Ave, Midland, TX 79701",
               "coordinates": {"lat": 31.9974, "lng": -102.0983},
               "phone": "432-322-8675",
               "fax": "214-888-4450",
               "categories": ["urgent_care", "primary_care", "specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics",
               "address": "2700 W Pleasant Run Rd, Lancaster, TX 75146",
               "coordinates": {"lat": 32.5920, "lng": -96.7889},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics - Ft. Worth",
               "address": "3712 W 7th St, Fort Worth, TX 76107",
               "coordinates": {"lat": 32.7506, "lng": -97.3739},
               "phone": "",
               "fax": "",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics - Greenville",
               "address": "4812 Roberts St, Greenville, TX 75401",
               "coordinates": {"lat": 33.1273, "lng": -96.1086},
               "phone": "903-454-7555",
               "fax": "903-450-4420",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Performance Medicine & Sports Therapy",
               "address": "6101 Windhaven Pkwy Ste 145, Plano, TX 75093",
               "coordinates": {"lat": 33.0789, "lng": -96.8339},
               "phone": "469-833-2927",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Urgent Care Of Texas",
               "address": "6407 S Cooper St #117, Arlington, TX 76001",
               "coordinates": {"lat": 32.6554, "lng": -97.1289},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["urgent_care", "primary_care", "specialty_care", "all_other"]
               }
            ]
         },
         {
            "type": "Pain Management",
            "serviceKey": "pain_management",
            "count": 6,
            "locations": [
               {
               "name": "Specialty Care Clinics - Hillsboro",
               "address": "117 Jane Lane, Hillsboro, TX 76645",
               "coordinates": {"lat": 32.0107, "lng": -97.1289},
               "phone": "254-582-8007",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics - Farmers Branch",
               "address": "13988 Diplomat Dr, Suite 100, Farmers Branch, TX 75234",
               "coordinates": {"lat": 32.9267, "lng": -96.8906},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Texas Back Care",
               "address": "1424 Airport Freeway Suite N, Bedford, TX 76022",
               "coordinates": {"lat": 32.8440, "lng": -97.1228},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "OrthoXpress",
               "address": "2304 W Michigan Ave, Midland, TX 79701",
               "coordinates": {"lat": 31.9974, "lng": -102.0983},
               "phone": "432-322-8675",
               "fax": "214-888-4450",
               "categories": ["urgent_care", "primary_care", "specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics",
               "address": "2700 W Pleasant Run Rd, Lancaster, TX 75146",
               "coordinates": {"lat": 32.5920, "lng": -96.7889},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "American Infusion Care - Specialty Infusions",
               "address": "3003 Fannin St, Houston, TX 77004",
               "coordinates": {"lat": 29.7419, "lng": -95.3698},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["infusions"]
               }
            ]
         },
         {
            "type": "General Surgery",
            "serviceKey": "general_surgery",
            "count": 3,
            "locations": [
               {
               "name": "Texas Back Care",
               "address": "1424 Airport Freeway Suite N, Bedford, TX 76022",
               "coordinates": {"lat": 32.8440, "lng": -97.1228},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics",
               "address": "2700 W Pleasant Run Rd, Lancaster, TX 75146",
               "coordinates": {"lat": 32.5920, "lng": -96.7889},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Urgent Care Of Texas",
               "address": "6407 S Cooper St #117, Arlington, TX 76001",
               "coordinates": {"lat": 32.6554, "lng": -97.1289},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["urgent_care", "primary_care", "specialty_care", "all_other"]
               }
            ]
         },
         {
            "type": "Plastic Surgery",
            "serviceKey": "plastic_surgery",
            "count": 2,
            "locations": [
               {
               "name": "Specialty Care Clinics",
               "address": "2700 W Pleasant Run Rd, Lancaster, TX 75146",
               "coordinates": {"lat": 32.5920, "lng": -96.7889},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics",
               "address": "4211 Cedar Springs Rd, Dallas, TX 75219",
               "coordinates": {"lat": 32.8089, "lng": -96.8067},
               "phone": "",
               "fax": "",
               "categories": ["specialty_care", "all_other"]
               }
            ]
         },
         {
            "type": "Podiatry",
            "serviceKey": "podiatry",
            "count": 2,
            "locations": [
               {
               "name": "Specialty Care Clinics - Farmers Branch",
               "address": "13988 Diplomat Dr, Suite 100, Farmers Branch, TX 75234",
               "coordinates": {"lat": 32.9267, "lng": -96.8906},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics",
               "address": "2700 W Pleasant Run Rd, Lancaster, TX 75146",
               "coordinates": {"lat": 32.5920, "lng": -96.7889},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               }
            ]
         },
         {
            "type": "Vascular Surgery",
            "serviceKey": "vascular_surgery",
            "count": 2,
            "locations": [
               {
               "name": "Specialty Care Clinics - Farmers Branch",
               "address": "13988 Diplomat Dr, Suite 100, Farmers Branch, TX 75234",
               "coordinates": {"lat": 32.9267, "lng": -96.8906},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics",
               "address": "2700 W Pleasant Run Rd, Lancaster, TX 75146",
               "coordinates": {"lat": 32.5920, "lng": -96.7889},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               }
            ]
         },
         {
            "type": "Cardiology",
            "serviceKey": "cardiology",
            "count": 2,
            "locations": [
               {
               "name": "Precision Cardiac and Vascular Care",
               "address": "221 Regency Parkway #105, Mansfield, TX 76063",
               "coordinates": {"lat": 32.5632, "lng": -97.1417},
               "phone": "214-884-7525",
               "fax": "214-884-7551",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Precision Cardiac and Vascular Care",
               "address": "2727 Bolton Boone Drive #112, Desoto, TX 75115",
               "coordinates": {"lat": 32.5899, "lng": -96.8570},
               "phone": "214-884-7525",
               "fax": "214-884-7551",
               "categories": ["specialty_care", "all_other"]
               }
            ]
         },
         {
            "type": "Oncology",
            "serviceKey": "oncology",
            "count": 2,
            "locations": [
               {
               "name": "Specialty Care Clinics - Farmers Branch",
               "address": "13988 Diplomat Dr, Suite 100, Farmers Branch, TX 75234",
               "coordinates": {"lat": 32.9267, "lng": -96.8906},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics - Plano",
               "address": "5085 W Park Blvd Ste 200, Plano, TX 75093",
               "coordinates": {"lat": 33.0150, "lng": -96.8200},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["infusions", "all_other"]
               }
            ]
         },
         {
            "type": "Chiropractic",
            "serviceKey": "chiropractic",
            "count": 3,
            "locations": [
               {
               "name": "Casa View Chiropractic Clinic",
               "address": "10622 Shiloh Rd, Dallas, TX 75228",
               "coordinates": {"lat": 32.8234, "lng": -96.6714},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["primary_care", "specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics Occupational Medicine",
               "address": "1313 E Frank St, Hillsboro, TX 76645",
               "coordinates": {"lat": 32.0107, "lng": -97.1189},
               "phone": "972-865-4454",
               "fax": "214-888-4450",
               "categories": ["specialty_care", "all_other"]
               },
               {
               "name": "Specialty Care Clinics MedSurg & Compcare",
               "address": "220 E 3rd Ave, Corsicana, TX 75110",
               "coordinates": {"lat": 32.0954, "lng": -96.4664},
               "phone": "903-874-5866",
               "fax": "903-874-5083",
               "categories": ["specialty_care", "all_other"]
               }
            ]
         }
      ];


      // Global variables
      let map, userLocation, markers = [], autocompleteService, placesService;
      let currentDistance = null; // null means no distance filter applied
      let currentService = '';
      let locationMarkersMap = new Map(); // Map to store markers by location address
      let currentlyBouncingMarker = null; // Track the currently bouncing marker

      // Get user's location on page load
      function getUserLocation() {
         if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(
               (position) => {
                  userLocation = {
                     lat: position.coords.latitude,
                     lng: position.coords.longitude
                  };

                  // Update results with user's location
                  updateResults();
               },
               (error) => {
                  console.log('Geolocation error:', error);
                  // Show default results even if geolocation fails
                  showDefaultResults();
               }
            );
         } else {
            // Browser doesn't support geolocation
            showDefaultResults();
         }
      }

      // Initialize application
      function initApp() {
         initializeEventListeners();
         initMap();
         // Show locations immediately, then try to get user location
         showDefaultResults();
         getUserLocationAsync();
      }

      // Get user location asynchronously without blocking
      function getUserLocationAsync() {
         if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(
               (position) => {
                  userLocation = {
                     lat: position.coords.latitude,
                     lng: position.coords.longitude
                  };
                  // Update results with distances
                  updateResults();
               },
               (error) => {
                  console.log('Geolocation not available:', error);
                  // Locations already shown, just continue without distances
               }
            );
         }
      }

      // Event listeners setup
      function initializeEventListeners() {
         const addressInput = document.getElementById('addressInput');
         const serviceFilter = document.getElementById('serviceFilter');
         const distanceButtons = document.querySelectorAll('.filter-button');

         addressInput.addEventListener('input', handleAddressInput);
         serviceFilter.addEventListener('change', handleServiceFilter);

         distanceButtons.forEach(button => {
            button.addEventListener('click', handleDistanceFilter);
         });

         // Hide suggestions when clicking outside
         document.addEventListener('click', (e) => {
            if (!e.target.closest('#addressInput') && !e.target.closest('#addressSuggestions')) {
               hideSuggestions();
            }
         });
      }

      // Initialize Google Map
      function initMap() {
         map = new google.maps.Map(document.getElementById('map'), {
            zoom: CONFIG.MAP_ZOOM,
            center: { lat: 32.0895413, lng: -97.3628779, }, // Dallas center
            gestureHandling: 'greedy', // Allow zoom without ctrl
            styles: [
               {
                  featureType: 'poi',
                  elementType: 'labels',
                  stylers: [{ visibility: 'off' }]
               }
            ]
         });

         autocompleteService = new google.maps.places.AutocompleteService();
         placesService = new google.maps.places.PlacesService(map);
      }

      // Handle address input with Google Places suggestions
      function handleAddressInput() {
         const input = document.getElementById('addressInput');
         const query = input.value.trim();

         // Update header as user types
         updateLocationHeader(query);

         if (query.length < 3) {
            hideSuggestions();
            return;
         }

         const request = {
            input: query,
            types: ['address'],
            componentRestrictions: { country: 'us' }
         };

         autocompleteService.getPlacePredictions(request, (predictions, status) => {
            if (status === google.maps.places.PlacesServiceStatus.OK && predictions) {
               showSuggestions(predictions.slice(0, 5));
            } else {
               hideSuggestions();
            }
         });
      }

      // Display address suggestions
      function showSuggestions(predictions) {
         const container = document.getElementById('addressSuggestions');
         container.innerHTML = '';

         predictions.forEach(prediction => {
            const item = document.createElement('div');
            item.className = 'suggestion-item';
            item.textContent = prediction.description;
            item.addEventListener('click', () => selectAddress(prediction));
            container.appendChild(item);
         });

         container.style.display = 'block';
      }

      // Hide suggestions dropdown
      function hideSuggestions() {
         document.getElementById('addressSuggestions').style.display = 'none';
      }

      // Update location header with selected address
      function updateLocationHeader(address) {
         const header = document.getElementById('locationHeader');
         if (address && address.trim() !== '') {
            header.textContent = `Showing Locations Near: ${address}`;
         } else {
            header.textContent = 'Showing Locations Near:';
         }
      }

      // Handle address selection
      function selectAddress(prediction) {
         const input = document.getElementById('addressInput');
         input.value = prediction.description;
         hideSuggestions();

         // Update the header to show the selected location
         updateLocationHeader(prediction.description);

         const request = {
            placeId: prediction.place_id,
            fields: ['geometry']
         };

         placesService.getDetails(request, (place, status) => {
            if (status === google.maps.places.PlacesServiceStatus.OK) {
               const location = place.geometry.location;
               userLocation = {
                  lat: location.lat(),
                  lng: location.lng()
               };

               updateResults();
            }
         });

         // const placeInstance = new google.maps.places.Place({
         //     id: prediction.place_id,
         //     fields: ['geometry']
         // });

         // placeInstance.getDetails()
         // .then(result => {
         //    console.log(result)
         //    const loc = result.geometry.location;
         //    userLocation = { lat: loc.lat(), lng: loc.lng() };
         //    updateResults();
         // })
         // .catch(err => console.error('Error fetching place details:', err));
      }

      // Handle service filter change
      function handleServiceFilter(e) {
         currentService = e.target.value;
         updateResults();
      }

      // Handle distance filter change
      function handleDistanceFilter(e) {
         document.querySelectorAll('.filter-button').forEach(btn => btn.classList.remove('active'));
         e.target.classList.add('active');
         currentDistance = parseInt(e.target.dataset.distance);
         updateResults();
      }

      // Calculate distance between two points (Haversine formula)
      function calculateDistance(lat1, lng1, lat2, lng2) {
         const R = 3959; // Earth's radius in miles
         const dLat = (lat2 - lat1) * Math.PI / 180;
         const dLng = (lng2 - lng1) * Math.PI / 180;
         const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +
            Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
            Math.sin(dLng / 2) * Math.sin(dLng / 2);
         const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
         return R * c;
      }

      // Filter locations based on criteria
      function filterClinics() {
         let locations = [];

         // Filter by location type
         if (currentService && currentService.trim() !== '') {
            // Show only the selected location type
            const locationData = LOCATION_DATA.find(data => data.serviceKey === currentService);
            if (locationData) {
               locations = locationData.locations.map(loc => ({
                  address: loc.address,
                  name: loc.name,
                  phone: loc.phone,
                  fax: loc.fax,
                  lat: loc.coordinates.lat,
                  lng: loc.coordinates.lng,
                  type: locationData.type,
                  description: locationData.description || '',
                  serviceKey: locationData.serviceKey
               }));
            }
         } else {
            // Show all locations from all types
            LOCATION_DATA.forEach(data => {
               data.locations.forEach(loc => {
                  locations.push({
                     address: loc.address,
                     name: loc.name,
                     phone: loc.phone,
                     fax: loc.fax,
                     lat: loc.coordinates.lat,
                     lng: loc.coordinates.lng,
                     type: data.type,
                     description: data.description || '',
                     serviceKey: data.serviceKey
                  });
               });
            });
         }

         // Filter by distance if user location is available and distance filter is set
         if (userLocation && currentDistance !== null) {
            locations = locations.filter(location => {
               if (!location.lat || !location.lng) return false;
               const distance = calculateDistance(
                  userLocation.lat,
                  userLocation.lng,
                  location.lat,
                  location.lng
               );
               return distance <= currentDistance;
            });
         }

         return locations;
      }
      // Update results and map
      function updateResults() {
         const filtered = filterClinics();
         displayResults(filtered);
         updateMap(filtered);
      }

      // Display location results
      function displayResults(locations) {
         console.log('displayResults called with', locations.length, 'locations');
         const container = document.getElementById('clinicResults');
         console.log('Container element:', container);
         console.log('Container is null?', container === null);
         console.log('Container is undefined?', container === undefined);
         console.log('Container tagName:', container ? container.tagName : 'NO CONTAINER');
         console.log('Container parent:', container ? container.parentElement : 'NO PARENT');

         if (locations.length === 0) {
            container.innerHTML = '<div class="no-results" style="text-align: center; padding: 60px 20px; font-size: 1.4rem; color: #333; line-height: 1.8;">Our apologies, but no results were found for your search criteria. Please try something else.</div>';
            // Clear map markers when no results
            markers.forEach(marker => marker.setMap(null));
            markers = [];
            locationMarkersMap.clear();
            return;
         }

         // Calculate distances for all locations
         const locationsWithDistance = locations.map(location => {
            let distance = null;
            if (userLocation && location.lat && location.lng) {
               distance = calculateDistance(
                  userLocation.lat,
                  userLocation.lng,
                  location.lat,
                  location.lng
               );
            }
            return { ...location, distance };
         });

         // Sort by distance if user location is available
         if (userLocation) {
            locationsWithDistance.sort((a, b) => {
               if (a.distance === null) return 1;
               if (b.distance === null) return -1;
               return a.distance - b.distance;
            });
         }

         const htmlContent = locationsWithDistance.map((location, index) => {
            const mapQuery = encodeURIComponent(location.address);
            const mapLink = `https://www.google.com/maps/search/?api=1&query=${mapQuery}`;

            // Split address into separate lines
            const addressParts = location.address.split(',').map(p => p.trim());
            const street = addressParts[0] || '';
            // Check if second part is a suite/unit (contains "Suite", "Ste", "Unit", "#")
            let suite = '';
            let cityStateZip = '';

            if (addressParts.length > 2) {
               const secondPart = addressParts[1] || '';
               if (secondPart.match(/suite|ste|unit|#/i)) {
                  suite = secondPart;
                  cityStateZip = addressParts.slice(2).join(', ');
               } else {
                  cityStateZip = addressParts.slice(1).join(', ');
               }
            } else if (addressParts.length === 2) {
               cityStateZip = addressParts[1];
            }

            // Create unique identifier for this location
            const locationId = `location-${index}`;

            return `
                     <div class="loc-map-sec-clinic-card" id="${locationId}" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">
                           <h3 style="color: #2563eb; margin: 0; font-size: 1rem; font-weight: 600; line-height: 1.4; flex: 1;">${location.name}</h3>
                           <div style="display: flex; flex-direction: column; align-items: flex-end; gap: 4px; margin-left: 16px;">
                              ${location.distance !== null ? `
                                 <span style="color: #1f2937; font-size: 0.875rem; font-weight: 500; white-space: nowrap;">
                                    ${location.distance.toFixed(1)} Miles
                                 </span>
                              ` : ''}
                              <a href="javascript:void(0)" onclick="showLocationOnMap('${location.address.replace(/'/g, "\\'")}', ${location.lat}, ${location.lng})" class="map-link" style="color: #2563eb; font-size: 0.875rem; text-decoration: none; display: inline-flex; align-items: center; gap: 4px; white-space: nowrap;">
                                 <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="#2563eb" style="flex-shrink: 0;">
                                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                                 </svg>
                                 Show on map
                              </a>
                           </div>
                        </div>

                        <div style="margin-bottom: 14px; line-height: 1.5;">
                           <div style="font-size: 0.875rem; color: #1f2937;">
                              ${street}
                           </div>
                           ${suite ? `<div style="font-size: 0.875rem; color: #1f2937;">
                              ${suite}
                           </div>` : ''}
                           <div style="font-size: 0.875rem; color: #1f2937;">
                              ${cityStateZip}
                           </div>
                        </div>

                        <div style="margin-bottom: 16px;">
                           <a href="tel:682-549-7961" class="phone-link" style="color: #16a34a; font-size: 0.875rem; font-weight: 400; text-decoration: none; display: inline-flex; align-items: center; gap: 4px;">
                              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="#16a34a" style="flex-shrink: 0;">
                                 <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
                              </svg>
                               ${location.phone}
                           </a>
                        </div>

                        <button style="background-color: #1e40af; color: white; border: none; padding: 11px 20px; width: 100%; cursor: pointer; font-size: 0.875rem; font-weight: 600; border-radius: 0; letter-spacing: 0.5px; text-transform: uppercase; font-family: inherit;" onclick="window.open('${mapLink}', '_blank')">
                           LOCATION DETAILS
                        </button>
                     </div>
                `;
         }).join('');

         console.log('Generated HTML length:', htmlContent.length);
         console.log('First 500 chars:', htmlContent.substring(0, 500));
         container.innerHTML = htmlContent;
         console.log('innerHTML set, container now has', container.children.length, 'children');
         console.log('First child HTML:', container.children[0] ? container.children[0].outerHTML.substring(0, 500) : 'No children');

         // Check dimensions and visibility
         const rect = container.getBoundingClientRect();
         console.log('Container dimensions:', {
            width: rect.width,
            height: rect.height,
            top: rect.top,
            left: rect.left
         });
         const containerStyle = window.getComputedStyle(container);
         console.log('Container computed style:', {
            display: containerStyle.display,
            visibility: containerStyle.visibility,
            opacity: containerStyle.opacity,
            position: containerStyle.position
         });

         if (container.children[0]) {
            const childRect = container.children[0].getBoundingClientRect();
            console.log('First child dimensions:', {
               width: childRect.width,
               height: childRect.height,
               top: childRect.top,
               left: childRect.left
            });
         }

         // Update map with locations
         updateMapMarkers(locationsWithDistance);
      }

      // Update map with location markers
      function updateMapMarkers(locations) {
         // Clear existing markers
         markers.forEach(marker => marker.setMap(null));
         markers = [];
         locationMarkersMap.clear();
         currentlyBouncingMarker = null; // Reset bouncing marker

         // Add markers for all locations
         locations.forEach(location => {
            if (location.lat && location.lng) {
               const iconPath = CONFIG.ICON_PATHS[location.serviceKey] || 'attached_assets/10_1760719237356.png';

               const marker = new google.maps.Marker({
                  position: { lat: location.lat, lng: location.lng },
                  map: map,
                  title: location.type + ' - ' + location.address,
                  icon: {
                     url: iconPath,
                     scaledSize: new google.maps.Size(24, 24)
                  }
               });

               // Split address for better display
               const addressParts = location.address.split(',');
               const streetAddress = addressParts[0]?.trim() || '';
               const suite = addressParts.slice(1, -1).join(',').trim() || '';
               const cityStateZip = addressParts.slice(-1)[0]?.trim() || '';

               // Add info window with proper styling matching reference
               const mapQuery = encodeURIComponent(location.address);
               const directionsLink = `https://www.google.com/maps/dir/?api=1&destination=${mapQuery}`;
               const detailsLink = `https://www.google.com/maps/search/?api=1&query=${mapQuery}`;

               const infoWindow = new google.maps.InfoWindow({
                  content: `
                     <div style="padding: 12px 16px; min-width: 250px; font-family: Arial, sans-serif;">
                        <h3 style="margin: 0 0 8px 0; color: #000; font-size: 16px; font-weight: 600;">${location.type}</h3>
                        <p style="margin: 4px 0; color: #333; font-size: 14px; line-height: 1.5;">${streetAddress}</p>
                        ${suite ? `<p style="margin: 4px 0; color: #333; font-size: 14px; line-height: 1.5;">${suite}</p>` : ''}
                        <p style="margin: 4px 0 12px 0; color: #333; font-size: 14px; line-height: 1.5;">${cityStateZip}</p>
                        <div style="display: flex; gap: 8px; margin-top: 12px;">
                           <a href="${detailsLink}" target="_blank" style="flex: 1; padding: 8px 12px; background-color: white; color: #1a73e8; border: 2px solid #1a73e8; text-decoration: none; font-size: 13px; font-weight: 500; text-align: center; border-radius: 4px; cursor: pointer; display: inline-block;">Location Details</a>
                           <a href="${directionsLink}" target="_blank" style="flex: 1; padding: 8px 12px; background-color: white; color: #1a73e8; border: 2px solid #1a73e8; text-decoration: none; font-size: 13px; font-weight: 500; text-align: center; border-radius: 4px; cursor: pointer; display: inline-block;">Get Directions</a>
                        </div>
                     </div>
                  `
               });

               marker.addListener('click', () => {
                  // Stop bouncing if this marker is bouncing
                  if (currentlyBouncingMarker === marker) {
                     marker.setAnimation(null);
                     currentlyBouncingMarker = null;
                  }

                  // Close all other info windows
                  markers.forEach(m => {
                     if (m.infoWindow) {
                        m.infoWindow.close();
                     }
                  });
                  infoWindow.open(map, marker);
               });

               marker.infoWindow = infoWindow;
               markers.push(marker);
               locationMarkersMap.set(location.address, marker);
            }
         });

         // Fit map to show all markers
         if (markers.length > 0) {
            const bounds = new google.maps.LatLngBounds();
            markers.forEach(marker => {
               bounds.extend(marker.getPosition());
            });
            map.fitBounds(bounds);
         }
      }

      // Function to show location on map with animation
      function showLocationOnMap(address, lat, lng) {
         // Stop any currently bouncing marker
         if (currentlyBouncingMarker) {
            currentlyBouncingMarker.setAnimation(null);
         }

         // Find the marker for this location
         const marker = locationMarkersMap.get(address);

         if (marker) {
            // Start marker bouncing - it will continue until clicked or another marker is selected
            marker.setAnimation(google.maps.Animation.BOUNCE);
            currentlyBouncingMarker = marker;
         }
      }

      // Update map with filtered locations (legacy function for compatibility)
      function updateMap(locations) {
         // This function is kept for compatibility but does nothing
         // The actual map update happens in displayResults via updateMapMarkers
      }

      // Show default results on page load
      function showDefaultResults() {
         const defaultLocations = filterClinics();
         console.log('Filtered locations:', defaultLocations.length, defaultLocations);
         displayResults(defaultLocations);
      }

      // Initialize when page loads
      // document.addEventListener('DOMContentLoaded', initApp);
   </script>

   <!-- Google Maps API - Replace YOUR_API_KEY with actual API key -->
   <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBj68ryDqKcMZSC0CC03YOcMXLmIVHqrGE&libraries=places&callback=initApp">
      </script>
</body>

</html>